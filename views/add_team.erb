<html ng-app="statsApp">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
	  	<script src="/js/main.js"></script>
	  	<script src="/js/add_team.js"></script>
	  	<script src="angular-video/js/anguvideo.js"></script>
	  	<script src="https://www.youtube.com/iframe_api"></script>
		<script src="angular-youtube-embed/src/angular-youtube-embed.js"></script>

	  	<link rel="stylesheet" type="text/css" href="/stylesheets/the.css">
	  	<link rel="stylesheet" type="text/css" href="/stylesheets/header.css">
	  	<link rel="stylesheet" type="text/css" href="/stylesheets/add_team.css">
	  	<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
	  	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" />
	    <title>Quidstats</title>
	</head>

	<body ng-controller="StatsController">
	  	<header>
	      <div class="nav">
	        <ul>
				<li class="username"><a href="/"><%=get_user()%> </a></li>
	          	<li><a href="/record">Record Stats</a></li>
	          	<li><a href="/stats">View Stats</a></li>
	          	<li><a href="/add_team" class="active">Add Team</a></li>
	          	<li><a href="/add_video">Add Video</a></li>
	          	<li class="help"><a>Help</a></li>
	        </ul>
	      </div>
	    </header>

	    <!-- Teams list -->
	    <div id="team-year" class="container-fluid" align="center">
	    	<h2>To add or edit a team, first, select the team and the year.</h2>
	    	<p>Base the year on what year it is/was during the fall</p>
			<p>Hint: We are currently in fall year 2015</p>

		    <select name="teamSelect" ng-model="teamToAdd" ng-change="getRoster()">
				<option value="new">New Team</option>
				<% @teams.each do |team| %>
				<option value="<%= team['objectId']%>"><%=team['team_name']%></option>
				<%end%>
			</select>

			<select ng-model="rosterYear" ng-change="getRoster()">
				<option value="2012">2012</option>
				<option value="2013">2013</option>
				<option value="2014">2014</option>
				<option selected value="2015">2015</option>
			</select>
		</div>

		<hr>

		<div ng-show="teamToAdd && rosterYear">
			<div ng-show="teamToAdd == 'new'"id="newTeamContainer" class="container-fluid" align="center">
				Team Name: <input type="text" ng-model="newTeamName" />
			</div>

			<br>

			<!-- new player -->
			<div id="addPlayerContainer" class="container-fluid" align="center">
				First name: <input type="text" ng-model="newFirstName"/>
				Last name: <input type="text" ng-model="newLastName"/>
				<button type="submit" ng-click="addNewPlayer()">Add New Player</button>
			</div>


			<div class="container-fluid" align="center">
				<button ng-click="saveRoster()">Save Roster</button>
			</div>

			
			<!-- roster -->
			<div id="rosterContainer">
				<ul class="playerList" ng-model="roster">
					<li ng-repeat="player in roster">
						<input type="text" value="{{player.first_name}}"/>
						<input type="text" value="{{player.last_name}}"/>
						<button ng-click="updatePlayer(player)">Update</button>
						<button ng-click="deletePlayer(player)">Delete</button>
					</li>
			</div>
		</div>


	</body>

</html>