<div name="header" class="container-fluid text-center">
	<!-- Team Selector -->
	<select name="teamSelect" ng-model="team" ng-change="getAllGames()">
		<option value="">Select a team</option>
		<% @teams.each do |team| %>
		<option value="<%= team['objectId']%>"><%=team['team_name']%></option>
		<%end%>
	</select>
	<!-- Video Selector and allPlayers populator--> 
	<select ng-model="vidObj" ng-change="getAllPlayers()" ng-options="game.vid_id+','+game.fall_year as game.description for game in allGames">
    </select>
    <div ng-show="vidObj" class="pull-right">
        <label ng-show="statsPublic" for="pubLabel">Public</label>
        <label ng-show="!statsPublic" for="pubLabel">Private</label>
    </div>
    <div ng-show="vidObj" class="material-switch pull-right">
        <input ng-model="statsPublic" ng-change="togglePublic()" type="checkbox" id="unchecked" class="cbx hidden"/>
        <label id="pubLabel" for="unchecked" class="lbl"></label>
	</div>
</div>

<!-- Video player object -->
<div id="vidContainer">
	
	<div id="playersAndScoreboard">
		<div class="position" name="chasers">
			<p style="text-align:center;"><b>Chasers</b></p>
			<div class="player" ng-repeat="onPlayer in onFieldPlayers.slice(0,3) track by $index">
				<ul>
					<a href="javascript:void(0)" ng-click="startSub(onPlayer.objectId)">{{onPlayer.first_name+' '+onPlayer.last_name}}</a>
				</ul>
			</div>
		</div>
		<div class="position" name="keeper">
			<p style="text-align:center;"><b>Keeper</b></p>
			<div class="player" ng-repeat="onPlayer in onFieldPlayers.slice(3,4) track by $index">
				<ul>
					<a href="javascript:void(0)" ng-click="startSub(onPlayer.objectId)">{{onPlayer.first_name+' '+onPlayer.last_name}}</a>
				</ul>
			</div>
		</div>
		<div class="position" name="beater">
			<p style="text-align:center;"><b>Beater</b></p>
			<div class="player" ng-repeat="onPlayer in onFieldPlayers.slice(4,6) track by $index">
				<ul>
					<a href="javascript:void(0)" ng-click="startSub(onPlayer.objectId)">{{onPlayer.first_name+' '+onPlayer.last_name}}</a>
				</ul>
			</div>
		</div>
		<div class="position" name="seeker">
			<p style="text-align:center;"><b>Seeker</b></p>
			<div class="player" ng-repeat="onPlayer in onFieldPlayers.slice(6,7) track by $index">
				<ul>
					<a href="javascript:void(0)" ng-click="startSub(onPlayer.objectId)">{{onPlayer.first_name+' '+onPlayer.last_name}}</a>
				</ul>
			</div>
		</div>
		<div id="scoreboard" style="text-align:center;">
			<div class="score">
				<p>HOME</p>
				<p ng-model="homeScore">{{homeScore}}</p>
			</div>
			<div class="score">
				<p>AWAY</p>
				<p ng-model="awayScore">{{awayScore}}</p>
			</div>
		</div>
	</div>

	<div id="video">
		<youtube-video video-id="selectedVideo" player="videoPlayer" player-width="'100%'"></youtube-video>
	</div>

	<div id="statsAndFilters">
		<div id="statsList">
			<div class="statsListItem" ng-repeat="statObj in displayStats">
				<p ng-show="statObj.stat_name != 'NOTE'">{{statObj.stat_name | statNameFilter}}</p>
				
				<!--Name Stuff-->
				<p ng-show="statObj.player_name != 'null' && (statObj.stat_name != 'SUB' && statObj.stat_name != 'SWAP')">{{statObj.player_name}}</p>
				<p ng-show="statObj.player_name != 'null' && (statObj.stat_name == 'SUB' || statObj.stat_name == 'SWAP')"> <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> {{statObj.player_name}}</p>
				<p ng-show="statObj.stat_name == 'SUB' || statObj.stat_name == 'SWAP'"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>{{statObj.player_in_name}}</p>
				
				<!--Possession Stuff-->
				<p ng-show="statObj.stat_name == 'OFFENSE'">vs. {{statObj.bludger_count}} bludger(s)</p>
				<p ng-show="statObj.stat_name == 'OFFENSIVE_DRIVE'">vs. {{statObj.bludger_count}} bludger(s)</p>
				<p ng-show="statObj.stat_name == 'DEFENSE'">with {{statObj.bludger_count}} bludger(s)</p>
				<p ng-show="statObj.stat_name == 'DEFENSIVE_DRIVE'">with {{statObj.bludger_count}} bludger(s)</p>
				
				<!--Note Stuff-->
				<p ng-show="statObj.stat_name == 'NOTE'">{{statObj.o_d_filter}}</p>
				<p ng-show="statObj.stat_name == 'NOTE'">{{statObj.good_bad_filter}}</p>
				<p class="clickList" ng-click="showNote($index)" ng-show="statObj.stat_name == 'NOTE'">Click to see note text</p>

				<div class="timeOnStatColumn">
					<p ng-click="seekToTime(statObj.stat_name, statObj.time)">{{statObj.time | time:'ss':'mm:ss'}}</p>
				</div>
				<button ng-hide="<%= @public %>" class="btn btn-danger btn-xs" ng-click="deleteStat(statObj.objectId, statObj.stat_name)">Delete</button>
			</div>
		</div>
		<div class="filter">
			<select ng-model="playerFilter" ng-change="filterEvents('players')">
				<option value="allPlayers">All Players</option>
				<option ng-repeat="player in allPlayers" value="{{player.objectId}}">{{player.first_name + ' ' + player.last_name}}</option>
			</select>
		</div>
		<div class="filter">
			<select ng-model="eventFilter" ng-change="filterEvents('events')">
				<option value="allEvents">All Events</option>
				<option value="SHOT">Shots</option>
				<option value="GOAL">Goals</option>
				<option value="ASSIST">Assists</option>
				<option value="TAKEAWAY">Takeaway</option>
				<option value="TURNOVER">Turnover</option>
				<option value="SUB">Sub</option>
				<option value="AWAY_GOAL">Away Goals</option>
				<option value="NOTE">Notes</option>
			</select>
		</div>
	</div>
</div>



<!--Buttons under the video -->
<div id="buttonsContainer">
	<div class="buttonGroup">
		<p><b>Clock Management</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'START_CLOCK', null)">Start Clock</p>
			<p class="clickList" ng-click="addStat(null, null, 'PAUSE_CLOCK', null)">Pause Clock</p>
			<p class="clickList" ng-click="instantReplay()">Instant Replay</p>
		<p><b>Extras</b></p>
			<p class="clickList">Add Note</p>
	</div>
	<div class="buttonGroup">
		<p><b>Start Offense Against</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'OFFENSE', 0)">0 bludgers</p>
			<p class="clickList" ng-click="addStat(null, null, 'OFFENSE', 1)">1 bludger</p>
			<p class="clickList" ng-click="addStat(null, null, 'OFFENSE', 2)">2 bludgers</p>
		<p><b>Start Drive Against</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'OFFENSIVE_DRIVE', 0)">0 bludgers</p>
			<p class="clickList" ng-click="addStat(null, null, 'OFFENSIVE_DRIVE', 1)">1 bludger</p>
			<p class="clickList" ng-click="addStat(null, null, 'OFFENSIVE_DRIVE', 2)">2 bludgers</p>
	</div>
	<div class="buttonGroup">
		<p><b>Start Defense With</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'DEFENSE', 0)">0 bludgers</p>
			<p class="clickList" ng-click="addStat(null, null, 'DEFENSE', 1)">1 bludger</p>
			<p class="clickList" ng-click="addStat(null, null, 'DEFENSE', 2)">2 bludgers</p>
		<p><b>Start Opponent Drive Against</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'DEFENSIVE_DRIVE', 0)">0 bludgers</p>
			<p class="clickList" ng-click="addStat(null, null, 'DEFENSIVE_DRIVE', 1)">1 bludger</p>
			<p class="clickList" ng-click="addStat(null, null, 'DEFENSIVE_DRIVE', 2)">2 bludgers</p>
	</div>
	<div class="buttonGroup">
		<p><b>Home Stat</b></p>
			<p class="clickList" ng-click="startStat('SHOT')">Shot</p>
			<p class="clickList" ng-click="startStat('GOAL')">Goal</p>
			<p class="clickList" ng-click="startStat('ASSIST')">Assist</p>
			<p class="clickList" ng-click="startStat('TAKEAWAY')">Takeaway</p>
			<p class="clickList" ng-click="startStat('TURNOVER')">Turnover</p>
		<p><b>Away Stat</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'AWAY_GOAL', null)">Goal</p>
	</div>
	<div class="buttonGroup">
		<p><b>Bludgers</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'GAIN_CONTROL', null)">Gain Control</p>
			<p class="clickList" ng-click="addStat(null, null, 'LOSE_CONTROL', null)">Lose Control</p>
	</div>
	<div class="buttonGroup">
		<p><b>Seekers</b></p>
			<p class="clickList" ng-click="addStat(null, null, 'SEEKERS_RELEASED', null)">Seekers Released</p>
			<p class="clickList" ng-click="addStat(null, null, 'SNITCH_CATCH', null)">Home Catch</p>
			<p class="clickList" ng-click="addStat(null, null, 'AWAY_SNITCH_CATCH', null)">Away Catch</p>
	</div>
	<div class="buttonGroup">
		<p><b>Cards</b></p>
			<p class="clickList">Yellow Card</p>
			<p class="clickList">Red Card</p>
	</div>
</div>

<div id="helpText" class="white_content">
	<a href="javascript:void(0)" ng-click="closeDialog('helpText')">Close<br></a>
	
	<a href="javascript:void(0)" ng-click="closeDialog('helpText')">Close<br></a>
</div>
<div id="fade" class="black_overlay"/>

<!-- Div for picking subs, starts just not-visible -->
<div id="allPlayersPicker" class="white_content">
	<p ng-if="statType == 'SWAP'">Swap keeper with someone on pitch. Or select 'none' if there is no penalty time.</p>
	<a ng-if="statType != 'SWAP'" href="javascript:void(0)" ng-click="closeDialog('allPlayersPicker')">Close<br></a>
	<a ng-repeat="allPlayer in allPlayers" ng-show="true" ng-click="playerClicked(allPlayer.objectId)" href="javascript:void(0)">{{allPlayer.first_name+' '+allPlayer.last_name}}<br></a>
	<a ng-if="statType != 'SWAP'" href="javascript:void(0)" ng-click="closeDialog('allPlayersPicker')">Close<br></a>
</div>

<div id="onFieldPlayersPicker" class="white_content">
	<p ng-if="statType == 'SWAP'">Swap keeper with someone on pitch. Or select 'none' if there is no penalty time.</p>
	<p ng-if="statType != 'SWAP'">Assign the {{statType}} to...</p>
	<a ng-if="statType != 'SWAP'" href="javascript:void(0)" ng-click="closeDialog('onFieldPlayersPicker')">Close<br></a>
	<a ng-if="statType == 'SWAP'" href="javascript:void(0)" ng-click="closeDialog('onFieldPlayersPicker')">None<br></a>
	<a ng-repeat="onFieldPlayer in onFieldPlayers" ng-click="playerClicked(onFieldPlayer.objectId)" href="javascript:void(0)">{{onFieldPlayer.first_name+' '+onFieldPlayer.last_name}}<br></a>
	<a ng-if="statType == 'SWAP'" href="javascript:void(0)" ng-click="closeDialog('onFieldPlayersPicker')">None<br></a>
	<a ng-if="statType != 'SWAP'" href="javascript:void(0)" ng-click="closeDialog('onFieldPlayersPicker')">Close<br></a>
</div>

<!-- Div for note overlay -->

<div id="noteOverlay" class="white_content" align="center">
	<select ng-model="oD">
		<option>General</option>
		<option>Offense</option>
		<option>Defense</option>
		<option>Transition</option>
	</select>
	<br>
	<select ng-model="goodBad">
		<option>Neutral</option>
		<option>Positive</option>
		<option>Negative</option>
	</select>
	<br>
	<textarea ng-model="noteText" type="text" placeholder="Note" style="width:400px;height:150px;"></textarea><br>
	<button class="btn btn-default" ng-click="addNote()">Add</button><br>
	<button class="btn btn-default" ng-click="closeDialog('noteOverlay')">Close<br></button>
</div>

<div id="displayNoteOverlay" class="white_content" align="center">
	<p ng-model="displayNoteText">{{displayNoteText}}</p>
	<a href="javascript:void(0)" ng-click="closeDialog('displayNoteOverlay')">Close<br></a>
	
</div>

<div id="fade" class="black_overlay"/>